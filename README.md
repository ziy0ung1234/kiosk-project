# 키오스크 만들기

## 📋 프로젝트 개요

지금까지 배운 개념들을 적용해서 필수5,도전2단계로 나누어 객체지향적 코드 설계에 중점을 둔 프로젝트 입니다.

## 🔄 브랜치

- level1: 필수1. 키오스크 프로그래밍
- level2: 필수2. 객체 지향 설계를 적용해 햄버거 메뉴를 클래스로 관리하기
- level3: 필수3. 객체 지향 설계를 적용해 순서 제어를 클래스로 관리하기
- level4: 필수4. 객체 지향 설계를 적용해 음식 메뉴와 주문 내역을 클래스 기반으로 관리하기
- level5: 필수5. 캡슐화 적용하기
- level6: 도전1. 장바구니 및 구매하기 기능을 추가하기
- level7: 도전2.  Enum, 람다 & 스트림을 활용한 주문 및 장바구니 관리

## 클래스 다이어 그램
![Kiosk UML Diagram](https://github.com/user-attachments/assets/9e9ed565-e800-4240-8834-6fe57649d25d)

## 🎯 브랜치별 주요 기능

### Level.1
- 처음 access화면에서 아니오 입력시 다음에 다시 찾아달라는 메세지와 함께 종료된다.
- 메뉴가 출력되면 유저가 선택한 번호에 맞는 메뉴명이 출력된다.
### Level.2
- 기능 단위로 클래스 생성
- `Main` 
  - 하드코딩 메뉴판을 MenuItem 객체에서 가져와 출력해준다.
  -  MenuItem 객체 생성할때 초기화 후 각 리스트 add로 데이터 추가한다.
  -  고객이 선택한 메뉴도 그에 맞는 메뉴 이름을 getter로 가져와 출력해준다.
- `MenuItem` 
  - 각 메뉴아이템에 대한 책임(이름,가격,설명) 관리 하는 클래스이다.
### Level.3
- 클래스가 좀더 세분화 되었다
- `Main` 
  - 키오스크 객체 생성후 실행메소드인 start를 호출한다.
- `MenuItem` 
- `Kisok`
  - 기존 Main의 입출력문을 start 메소드로 관리한다
  - 각 단계의 출력 메서드들을 제어한다.
  - boolean타입 변수와 반복문을 통해 뒤로가기 기능을 구현했다. 하위 메뉴에서 뒤로가기 기능 선택 시 상위 프롬포트메소드로 이동시킨다.
### Level.4
- 조금 더 전반적인 구조 리팩토링 중심 업데이트 진행.
- 메뉴 카테고리 분리 및 상태 기반 키오스크 전환
- `Kisok`
    - enum CurrentState 도입해 접근 / 메인 메뉴 / 서브 메뉴 / 종료 상태 관리
    - 메뉴 구조를 상위 하위 2단계로 나눠 구현
    - 반복문+switch로 상태 전환 로직을 정리
    - 입력 유효성 검증 강화
    - 단일 메뉴 기반 키오스크에서 카테고리별 메뉴 탐색 가능한 상태 기반 구조로 개선
- `Menu`
  - 카테고리 단위 관리를 위해 클래스 생성
  - 메뉴 출력 전용 메서드 분리
### Level.5
- State 패턴 적용 후 리팩토링이 들어감
- `Kisok`
  - 상태 로직을 각 상태별 핸들 메소드로 분리
  - 실행 메소드 while+switch문 구조에서 currentState.run(this)로 구조 단순화
  - 로직 흐름이 while → switch → if의 중첩 구조에서 벗어나, State가 Kiosk의 행동을 제어하는 형태로 명확하게 구조 변경
- `Menu`
  - 기존 입출력 책임 이동 후 데이터 보관 전용 객체로 책임 분리
- `State`
  - 각 상태를 START, MAIN_MENU, SUB_MENU, EXIT로 정의해 Consumer<Kiosk> 사용해 상태 전환 시 Kiosk의 동작 호출
  - 기존 switch문 완전 삭제했고 enum+람다식으로 상태 전이 코드 간결화
### Level.6
- 상태 전이 리팩토링과 장바구니 기능 추가
- `Kisok`
  - 각 상태가 다음 상태를 반환하도록 설계해 상태 전이 자동화
  - 각 상태별 화면 및 입력 메소드 분리해 의존성 낮춤
  - 장바구니 연동
- `Cart`
  - MenuItem과 수량을 관리하는 장바구니. Map<MenuItem, CartItem> 구조로 중복 추가 시 수량 증가 처리
- `CartItem`
  - 메뉴 아이템과 그 수량을 보유하는 객체. 수량은 최대 10개까지 제한
### Level.7
- 결제 단계와 할인 기능 추가 및 장바구니 로직 견고하게 확장
- UI 출력 전반 Stream/람다로 개선
- 주문 > 결제 > 종료까지 완전한 흐름 완성
- `Cart`
  - 이름으로 삭제 가능 추가.존재 여부(anyMatch) 확인 후 삭제 맟 삭제 메시지 출력
  - 장바구니 전체 비우기 메서드 추가
- `CartItem`
  - 개별 메뉴 아이템의 수량 관리, 사용자의 반복추가 입력 시 과도한 수량 방지
- `Discount`
  - 할인 정책 상수 Enum 관리
- `Kisok`
  - 메뉴명 기반 장바구니 항목 삭제 가능
  - 주문 취소 시 cancelOrder() 호출, 사용자 취소로 장바구니 비면 “메뉴로 돌아감” 처리 추가
  - 헐인코드 적용 후 결제 금액 계산 후 완료 메세지와 장바구니 초기화
## 동작 예시
```java
💙 안녕하세요 블루 보틀입니다
------------------------------------------------------------
주문하시겠습니까? 1) 네 2) 아니오
선택: 1

[ 💙Main Menu ]
------------------------------------------------------------
 1. Coffee  
 2. Non-Coffee
 3. Dessert 
 0. 뒤로가기
선택: 2

[ 💙Non-Coffee ]
------------------------------------------------------------
 1. 아이스티     |  6100원 | 새콤달콤한 아이스티
 2. 오렌지 주스   |  6500원 | 매장에서 직접 착즙한 주스
 3. 유자 피즈    |  6600원 | 새콤한 유자와 탄산감을 느낄 수 있는 음료
 4. 레몬에이드    |  6800원 | 입맛돋구는 톡쏘는 음료
 0. 뒤로가기
선택: 3

선택하신 메뉴: 유자 피즈 | 6600원
👆🏻 이 메뉴를 장바구니에 추가할까요?
 1) 확인  2) 취소
선택: 1
수량 선택 (1~10):
선택: 5
유자 피즈 5개 추가되었습니다.선택한 메뉴 확인하시겠어요?
1) 메뉴 선택  2) 확인  
선택: 1

[ 💙Main Menu ]
------------------------------------------------------------
 1. Coffee  
 2. Non-Coffee
 3. Dessert 
 0. 뒤로가기
선택: 3

[ 💙Dessert ]
------------------------------------------------------------
 1. 헤이즐넛 마들렌 |  3800원 | 헤이즐넛 향을 조화롭게 즐길 수 있는 디저트
 2. 카라멜 휘낭시에 |  3500원 | 정성껏 카라멜라이징한 시럽을 올린 풍미있는 디저트
 3. 어니언 베이글  |  4000원 | 한끼 가볍게 끝낼 수 있는 식사용 디저트
 0. 뒤로가기
선택: 3

선택하신 메뉴: 어니언 베이글 | 4000원
👆🏻 이 메뉴를 장바구니에 추가할까요?
 1) 확인  2) 취소
선택: 1
수량 선택 (1~10):
선택: 3
어니언 베이글 3개 추가되었습니다.선택한 메뉴 확인하시겠어요?
1) 메뉴 선택  2) 확인  
선택: 2
[ 💙Order List ]
------------------------------------------------------------
 1. 유자 피즈    x5  |                33000원
 2. 어니언 베이글  x3 |                12000원
------------------------------------------------------------
                                   총합 45000원
취소 하고 싶으신 메뉴 있으신가요?
1)아니오(결제) 2. 네
선택: 2
취소 하고싶은 메뉴 이름을 입력해주세요 : 유자 피즈
취소되었습니다. 장바구니로 돌아갑니다.

[ 💙Order List ]
------------------------------------------------------------
 1. 어니언 베이글  x3 |                12000원
------------------------------------------------------------
                                   총합 12000원
취소 하고 싶으신 메뉴 있으신가요?
1)아니오(결제) 2. 네
선택: 1

💡해당 되는 할인 코드 있으신가요?
------------------------------------------------------------
1. 복지  20 %
2. 군인  10 %
3. 학생  5 %
4. 일반  0 %
선택: 2

🔔 주문 완료되었습니다. 결제 금액 10800입니다.
다음에 다시 찾아주세요 💙

```
## 🛠️ 기술 스택
- **언어**: Java


